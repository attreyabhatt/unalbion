{% load potion_filters %}
<div id="profit-view" class="ua-section mt-4" style="display: none;">
    <h4 class="mb-3"> Potion Profit Table</h4>

    <div class="mb-3 d-flex gap-3 align-items-center flex-wrap ua-profit-filters">
        <select id="profit-tier-select" class="form-select w-auto">
            <option value="all">All Tiers</option>
            {% for t in "2,3,4,5,6,7,8"|split:"," %}
            <option value="T{{ t }}" {% if t == '4' %}selected{% endif %}>Tier {{ t }}</option>
            {% endfor %}
        </select>

        <select id="profit-enchant-select" class="form-select w-auto">
            <option value="all">All Enchants</option>
            {% for e in "0,1,2,3"|split:"," %}
            <option value="{{ e }}" {% if e == '0' %}selected{% endif %}>Enchantment +{{ e }}</option>
            {% endfor %}
        </select>

        <label for="profit-name-select" class="form-label mb-0">Potion Name:</label>
        <select id="profit-name-select" class="form-select w-auto">
            <option value="all">All</option>
            {% for name in potion_names %}
            <option value="{{ name|lower }}">{{ name }}</option>
            {% endfor %}
        </select>
    </div>

    <div class="table-responsive ua-table-wrap">
        <table class="table table-bordered align-middle text-center ua-profit-table">
            <thead class="table-dark">
                <tr>
                    <th>Potion</th>
                    <th>Tier</th>
                    <th>Enchantment</th>
                    <th>Production Cost</th>
                    <th>Sale Price</th>
                    <th>Profit</th>
                </tr>
            </thead>
            <tbody id="profit-table-body-js">
                <!-- Rows injected by JS -->
            </tbody>
        </table>
    </div>

    <div class="mt-3">
        <button type="button" id="back-to-inputs-btn" class="btn ua-btn-accent">Back to Inputs</button>
    </div>
</div>
